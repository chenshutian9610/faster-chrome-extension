webpackJsonp([1],{"1F2x":function(e,t){},dNcR:function(e,t){},zCDu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("xd7I"),r=n("7LQH"),o=n("NxjZ"),s=n.n(o),a=(n("zlkP"),n("Muz9")),c=n.n(a),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"Popup"}},[t("router-view")],1)},staticRenderFns:[]},u=n("C7Lr")({name:"Popup"},l,!1,null,null,null).exports,h={engines:[{name:"baidu",value:"https://www.baidu.com/s?wd=%s"},{name:"github",value:"https://github.com/search?q=%s"},{name:"maven",value:"https://mvnrepository.com/search?q=%s"},{name:"douban",value:"https://www.douban.com/search?q=%s"},{name:"extension",value:"https://chrome.google.com/webstore/search/%s?hl=zh-C"}]},d={data:function(){return{engines:h.engines,engine:h.engines[0].value,keyword:""}},methods:{search:function(){open(this.engine.split("%s").join(this.keyword))},init:function(){var e=this;this.$refs.keyword.$el.onkeydown=function(t){if("Tab"==t.key){var n=e.engines.findIndex(function(t){return t.value==e.engine});t.shiftKey?--n<0&&(n=e.engines.length-1):++n>=e.engines.length&&(n=0),e.engine=e.engines[n].value,t.returnValue=!1}else"Enter"==t.key&&e.search()}},load:function(){this.$refs.keyword.focus()}},mounted:function(){this.init()}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-radio-group",{attrs:{size:"small"},model:{value:e.engine,callback:function(t){e.engine=t},expression:"engine"}},e._l(e.engines,function(t){return n("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.name))])}),1),n("br"),n("br"),e._v(" "),n("el-input",{ref:"keyword",staticClass:"input-with-select egine-input",attrs:{placeholder:"请输入关键字"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{staticStyle:{"font-size":"8px"}},[t("li",[this._v("在输入框中使用 Tab 或 Shift + Tab 键切换搜索引擎")]),this._v(" "),t("li",[this._v("使用 Enter 开始搜索")]),this._v(" "),t("li",[this._v("使用 Ctrl 加左右方向键可切换 Tab 页")])])}]};var f={data:function(){return{localhost:"localhost",qrcode:void 0,qrcodeText:""}},methods:{init:function(){var e=this;this.$refs.qrcodeText.$el.onkeydown=function(t){t.ctrlKey&&"Enter"==t.key&&e.refreshQrCode(e.qrcodeText)}},load:function(){var e=this;this.$refs.qrcodeText.focus(),chrome&&chrome.tabs?chrome.tabs.query({active:!0,currentWindow:!0},function(t){return e.refreshQrCode(t[0].url)}):this.refreshQrCode(location.href)},refreshQrCode:function(e){var t=function(e){this.qrcode?this.$qrcode.refresh(this.qrcode,e):this.qrcode=this.$qrcode.generate("qrcodeImg",e)}.bind(this),n=/^(http|https)(:\/\/)(localhost|127.0.0.1){1}/;n.test(e)?t(e=e.replace(n,"$1$2"+this.localhost)):t(e)},showDialog:function(){var e=this;chrome&&chrome.windows&&chrome.storage&&chrome.tabs.query({active:!0,currentWindow:!0},function(t){return chrome.storage.sync.set({qrcode:e.qrcodeText?e.qrcodeText:t[0].url},function(){return chrome.windows.create({url:"dialog/qrcode/index.html",type:"popup",width:640,height:655,top:60,left:60})})})}},mounted:function(){this.init()}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",[n("tr",[n("td",[n("div",{staticClass:"qrcode-image",attrs:{id:"qrcodeImg"},on:{dblclick:function(t){return e.showDialog()}}})]),e._v(" "),n("td",[n("el-input",{ref:"qrcodeText",staticClass:"qrcode-input",attrs:{type:"textarea",rows:"5"},model:{value:e.qrcodeText,callback:function(t){e.qrcodeText=t},expression:"qrcodeText"}})],1)])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{staticStyle:{"font-size":"8px"}},[t("li",[this._v("手机扫描左边二维码进入浏览器当前网页")]),this._v(" "),t("li",[this._v("右边输入框可以自定义二维码, 结束按 Ctrl + Enter")]),this._v(" "),t("li",[this._v("双击二维码可查看大图")]),this._v(" "),t("li",[this._v("使用 Ctrl 加左右方向键可切换 Tab 页")])])}]};var m={data:function(){return{snippet:{},localhost:"localhost"}},methods:{init:function(){var e=this;setTimeout(function(){var t=e.$ip.snippetUrl.replace("localhost",e.localhost);e.$qrcode.generate("qrcodeImg2",t)},400)},load:function(){var e=this;this.$ip.getSnippet.bind(this)(function(t){e.snippet={label:e.$string.wrap(t.data),value:t.data},e.$refs.snippet.$el.focus()})},go:function(){this.snippet&&(/^(http|https):\/\//.test(this.snippet.value)?open(this.snippet.value):open(h.engines[0].value.split("%s").join(this.snippet.value)))},showDialog:function(){var e=this;chrome&&chrome.windows&&chrome.storage&&chrome.tabs.query({active:!0,currentWindow:!0},function(t){return chrome.storage.sync.set({qrcode:e.qrcodeText?e.qrcodeText:t[0].url},function(){return chrome.windows.create({url:""+e.$ip.snippetUrl,type:"popup",width:640,height:655,top:60,left:60})})})}},mounted:function(){this.init()}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",[n("tr",[n("td",[n("div",{staticClass:"qrcode-image",attrs:{id:"qrcodeImg2"},on:{dblclick:function(t){return e.showDialog()}}})]),e._v(" "),n("td",[n("el-button",{ref:"snippet",staticStyle:{"margin-left":"1em"},attrs:{type:"text"},domProps:{innerHTML:e._s(e.snippet.label)},on:{click:function(t){return e.go()}}})],1)])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ol",{staticStyle:{"font-size":"8px"}},[t("li",[this._v("手机扫描左边二维码分享链接, 双击二维码进入分享页面")]),this._v(" "),t("li",[this._v('使用快捷键 Ctrl + -> 或 点击上方 "剪切板" 刷新剪切板 ')]),this._v(" "),t("li",[this._v("使用 Ctrl 加左右方向键可切换 Tab 页")])])}]},g={components:{search:n("C7Lr")(d,p,!1,function(e){n("dNcR")},"data-v-3f19f348",null).exports,qrcode:n("C7Lr")(f,v,!1,function(e){n("1F2x")},"data-v-f75f9cb0",null).exports,snippet:n("C7Lr")(m,b,!1,null,null,null).exports},data:function(){return{activeTab:"search",tabs:["search","qrcode","snippet"]}},methods:{init:function(){var e=this;document.getElementsByTagName("body")[0].onkeydown=function(t){if(t.ctrlKey&&("ArrowRight"==t.key||"ArrowLeft"==t.key)){var n=e.tabs.findIndex(function(t){return t==e.activeTab});"ArrowRight"==t.key&&n<e.tabs.length-1?n++:"ArrowLeft"==t.key&&n>0&&n--,e.activeTab=e.tabs[n],e.initTab()}},this.$ip.getIP.bind(this)(function(t){e.$refs.qrcode.localhost=t.data[0],e.$refs.snippet.localhost=t.data[0]}),this.initTab()},initTab:function(){var e=this;setTimeout(function(){e.$refs[e.activeTab].load()},100)}},mounted:function(){this.init()}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{staticStyle:{width:"400px"},attrs:{id:"tab"},on:{"tab-click":e.initTab},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-tab-pane",{attrs:{name:e.tabs[0],label:"搜索"}},[n("search",{ref:"search"})],1),e._v(" "),n("el-tab-pane",{attrs:{name:e.tabs[1],label:"二维码"}},[n("qrcode",{ref:"qrcode"})],1),e._v(" "),n("el-tab-pane",{attrs:{name:e.tabs[2],label:"剪切板"}},[n("snippet",{ref:"snippet"})],1)],1)},staticRenderFns:[]},_=n("C7Lr")(g,w,!1,null,null,null).exports,y=n("LqYc"),q=n.n(y);var x={generate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120;return new q.a(e,{text:t,width:n,height:n,correctLevel:0})},refresh:function(e,t){e.clear(),e.makeCode(t)}},$="http://localhost",T=8720;var k={snippetUrl:$+":"+T+"/snippet",requestPort:T,getIP:function(e,t){var n=$+":"+T+"/getIP";this.$axios.get(n).then(e,t)},getSnippet:function(e,t){var n=$+":"+T+"/getSnippet";this.$axios.get(n).then(e,t)}},C=n("HzJ8"),E=n.n(C);var P={wrap:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:36,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"<br>",r="",o=0,s=0,a=0,c=1,l=!0,u=!1,h=void 0;try{for(var d,p=E()(e);!(l=(d=p.next()).done);l=!0){var f=d.value;if(/[^\x00-\xff]/.test(f)?a+=2:a++,s++,(a>=n||s===e.length)&&(a=0,r+=e.substring(o,s)+i,o=s,++c>=t)){r+="<b>......</b>";break}}}catch(e){u=!0,h=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw h}}return r}};c.a.defaults.timeout=3e3,i.default.prototype.$axios=c.a,i.default.prototype.$qrcode=x,i.default.prototype.$string=P,i.default.prototype.$ip=k,i.default.config.productionTip=!1,i.default.use(r.a),i.default.use(s.a),new i.default({el:"#popup",components:{Popup:u},template:"<Popup/>",router:new r.a({routes:[{path:"/",name:"Index",component:_}]})})},zlkP:function(e,t){}},["zCDu"]);
//# sourceMappingURL=popup.ceab54c8a892f8805c94.js.map